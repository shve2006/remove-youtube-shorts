// ==UserScript==
// @name         YouTube Shorts Terminator 2025
// @namespace    http://tampermonkey.net/
// @version      3.0
// @description  Removes all YouTube Shorts and redirects shorts URLs
// @author       ChatGPT
// @match        https://www.youtube.com/*
// @grant        none
// ==/UserScript==

(function () {
    'use strict';

    // Redirect shorts to normal video
    if (location.pathname.startsWith("/shorts/")) {
        const id = location.pathname.split("/shorts/")[1].split("?")[0];
        if (id) window.location.href = `https://www.youtube.com/watch?v=${id}`;
    }

    function isShort(element) {
        if (!element) return false;
        const aTag = element.querySelector('a[href*="/shorts/"]');
        const href = element?.href || '';
        return aTag || href.includes('/shorts/');
    }

    function removeShorts() {
        document.querySelectorAll('ytd-rich-grid-media, ytd-video-renderer, ytd-grid-video-renderer, ytd-reel-shelf-renderer')
            .forEach(el => {
                if (isShort(el)) el.remove();
            });
    }

    const observer = new MutationObserver(() => removeShorts());
    observer.observe(document.body, { childList: true, subtree: true });
    removeShorts();
})();
